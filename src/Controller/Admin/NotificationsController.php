<?php
 namespace App\Controller\Admin; use Symfony\Component\HttpFoundation\Request; use Symfony\Component\HttpFoundation\Response; use App\Controller\Controller; use App\Entity\Manager\NotificationManager; class NotificationsController extends Controller { public function index(Request $request, NotificationManager $notificationManager) : Response { goto D6cd6; c95dc: return $response; goto df661; a299b: $response = $this->render("\101\144\x6d\151\156\x2f\x4e\157\x74\151\x66\151\x63\141\164\151\157\156\x2f\x69\156\144\145\x78\x2e\x68\x74\x6d\x6c\x2e\164\167\x69\147", ["\x75\163\x65\x72" => $user, "\x6e\x6f\164\151\x66\x69\x63\x61\164\x69\157\x6e\163" => $notifications]); goto c95dc; D6cd6: $user = $this->getUser(); goto A7a6e; A7a6e: $notifications = $notificationManager->findAll([], ["\143\162\145\x61\x74\x65\144\101\x74" => "\144\x65\163\143"], 10); goto a299b; df661: } public function markAsRead(Request $request, NotificationManager $notificationManager) : Response { goto D690f; c2bd7: $response = $this->redirect($this->generateUrl("\143\154\x70\137\x61\144\x6d\x69\x6e\137\x6e\x6f\x74\151\146\151\143\141\x74\151\x6f\156\163")); goto b8fb3; A8f08: try { goto B5dca; a757d: if (!(false === is_null($notification))) { goto ffb7c; } goto c3706; E8014: $notificationManager->updateEntity($notification); goto ae5de; B5dca: $session = $request->getSession(); goto a757d; ae5de: ffb7c: goto A4fea; c3706: $notification->setIsRead(true); goto E8014; A4fea: } catch (\Exception $e) { $this->logger->exception($e); $session->getFlashBag()->set("\x64\x61\156\147\145\162", $this->translator->trans("\x41\156\40\145\x72\162\157\x72\x20\150\141\163\x20\157\143\x63\x75\162\x72\x65\x64\x2c\40\145\x72\x72\x6f\x72\40\x6d\145\x73\x73\x61\x67\x65\72\40\45\145\162\x72\157\x72\115\145\x73\x73\141\147\x65\x25", ["\x25\145\162\162\157\x72\x4d\x65\163\163\x61\x67\145\x25" => $e->getMessage()])); } goto c2bd7; b8fb3: return $response; goto F042f; D690f: $id = (int) $request->get("\151\x64"); goto Cbac9; Cbac9: $notification = $notificationManager->findOneById($id); goto A8f08; F042f: } public function markAsUnread(Request $request, NotificationManager $notificationManager) : Response { goto E3275; E60b2: $notification = $notificationManager->findOneById($id); goto F8134; F8134: try { goto d67e7; e945c: e5322: goto f9f37; b9baa: if (!(false === is_null($notification))) { goto e5322; } goto Ce6ec; d67e7: $session = $request->getSession(); goto b9baa; dc626: $notificationManager->updateEntity($notification); goto e945c; Ce6ec: $notification->setIsRead(false); goto dc626; f9f37: } catch (\Exception $e) { $this->logger->exception($e); $session->getFlashBag()->set("\144\x61\156\x67\x65\x72", $this->translator->trans("\x41\156\x20\145\162\x72\x6f\162\40\x68\x61\x73\x20\157\143\x63\165\x72\x72\145\144\54\x20\145\x72\x72\157\x72\40\x6d\x65\x73\163\x61\147\145\72\40\x25\145\162\x72\x6f\x72\115\145\163\163\141\x67\x65\45", ["\45\x65\162\x72\x6f\162\x4d\145\163\163\141\147\x65\45" => $e->getMessage()])); } goto F1b42; E3275: $id = (int) $request->get("\x69\144"); goto E60b2; F1b42: $response = $this->redirect($this->generateUrl("\x63\154\x70\137\x61\144\155\151\156\137\x6e\x6f\164\151\146\151\x63\141\164\151\157\x6e\x73")); goto a9560; a9560: return $response; goto E0fcd; E0fcd: } public function unreadNotifications(Request $request, NotificationManager $notificationManager) : Response { goto Ed3c6; aa243: return $response; goto B0064; Ed3c6: $numberOfUnreadNotifications = $notificationManager->getNumberOfUnreadNotifications(); goto C26c7; C26c7: $response = new Response(); goto dd01b; dd01b: $response->setContent($numberOfUnreadNotifications); goto aa243; B0064: } public function delete(Request $request, NotificationManager $notificationManager) : Response { goto a7b56; A74d7: try { goto D708b; E6b59: $session->getFlashBag()->set("\x73\165\x63\143\x65\163\163", $this->translator->trans("\x4e\x6f\164\151\146\151\x63\x61\164\151\157\x6e\x20\150\141\x73\40\142\x65\145\156\x20\144\x65\x6c\145\x74\145\144\56")); goto ec765; ec765: F951f: goto Bbb27; F540d: if (!(false === is_null($notification))) { goto F951f; } goto d607c; D708b: $session = $request->getSession(); goto F540d; d607c: $notificationManager->deleteEntity($notification); goto E6b59; Bbb27: } catch (\Exception $e) { $this->logger->exception($e); $session->getFlashBag()->set("\144\141\x6e\147\145\162", $this->translator->trans("\101\156\40\145\162\162\157\162\x20\150\141\x73\40\x6f\143\x63\165\162\162\x65\144\54\40\145\162\162\x6f\x72\x20\155\145\x73\x73\141\147\x65\72\40\45\145\162\162\157\x72\x4d\145\x73\163\141\x67\145\45", ["\x25\x65\162\x72\x6f\162\x4d\145\x73\163\141\x67\145\45" => $e->getMessage()])); } goto E85c5; a8609: return $response; goto f7f1a; a7b56: $id = (int) $request->get("\151\x64"); goto b5ecb; b5ecb: $notification = $notificationManager->findOneById($id); goto A74d7; E85c5: $response = $this->redirect($this->generateUrl("\x63\x6c\x70\x5f\141\144\155\x69\x6e\x5f\156\x6f\164\x69\146\x69\x63\141\x74\151\157\156\163")); goto a8609; f7f1a: } }
