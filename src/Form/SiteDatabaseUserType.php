<?php
 namespace App\Form; use Symfony\Component\Form\AbstractType; use Symfony\Component\Form\Extension\Core\Type\ChoiceType; use Symfony\Bridge\Doctrine\Form\Type\EntityType; use Symfony\Component\Form\FormBuilderInterface; use Symfony\Component\Form\Extension\Core\Type\TextType; use Symfony\Component\Form\FormEvent; use Symfony\Component\Form\FormEvents; use Symfony\Component\Validator\Constraints as Assert; use Doctrine\ORM\EntityManagerInterface; use App\Repository\DatabaseRepository; use App\Entity\Database as DatabaseEntity; use App\Entity\DatabaseUser as DatabaseUserEntity; class SiteDatabaseUserType extends AbstractType { private DatabaseRepository $databaseRepository; public function __construct(EntityManagerInterface $entityManager) { $this->databaseRepository = $entityManager->getRepository(DatabaseEntity::class); } public function buildForm(FormBuilderInterface $builder, array $options) : void { goto E651c; F32d4: $builder->add("\165\x73\145\x72\116\141\x6d\145", TextType::class, ["\x72\145\161\x75\x69\162\x65\144" => true, "\155\141\x70\160\145\x64" => true, "\141\164\x74\162" => ["\143\x6c\141\163\163" => "\x66\157\162\155\55\143\157\156\x74\x72\x6f\154\40\x66\157\x72\155\55\143\157\x6e\164\x72\157\154\55\154\147"], "\x6c\x61\x62\x65\154" => "\x44\141\164\x61\x62\141\163\145\x20\125\163\x65\162\x20\x4e\x61\155\145"]); goto fb5e3; B077c: $builder->add("\x64\x61\164\x61\x62\x61\x73\x65", EntityType::class, ["\162\x65\161\165\151\x72\x65\x64" => true, "\x61\x74\164\162" => ["\x63\x6c\141\163\163" => "\x66\x6f\162\155\55\163\x65\154\x65\143\164\x20\x66\157\162\155\55\163\145\154\x65\x63\164\x2d\x6c\147"], "\x6c\x61\x62\145\154" => "\104\141\164\141\x62\x61\x73\x65", "\x63\154\141\x73\x73" => DatabaseEntity::class, "\161\x75\145\x72\171\x5f\x62\165\151\154\x64\145\162" => function ($databaseRepository) use($siteEntity) { goto ffbd0; E84cf: $queryBuilder->setParameter("\163\x69\164\x65", $siteEntity); goto Ca3c2; Ca3c2: $queryBuilder->orderBy("\144\56\x6e\141\x6d\145", "\x41\x53\x43"); goto F8dea; F8dea: return $queryBuilder; goto d19c4; ffbd0: $queryBuilder = $databaseRepository->createQueryBuilder("\144"); goto B5033; B5033: $queryBuilder->where("\144\56\x73\x69\164\x65\40\x3d\40\x3a\x73\151\164\145"); goto E84cf; d19c4: }, "\x63\x68\x6f\x69\143\x65\137\x6c\141\142\145\x6c" => "\156\141\155\x65"]); goto A2fe5; C1e29: $databaseRepository = $this->databaseRepository; goto B077c; E651c: $databaseUserEntity = $options["\144\x61\x74\141"]; goto F32d4; d9fc8: $siteEntity = $databaseUserEntity->getSite(); goto C1e29; fb5e3: $builder->add("\160\141\x73\x73\167\x6f\162\x64", TextType::class, ["\162\x65\161\165\151\x72\x65\144" => true, "\x6d\x61\160\160\x65\144" => true, "\141\164\x74\162" => ["\143\x6c\x61\x73\163" => "\x66\x6f\162\x6d\x2d\143\157\x6e\164\x72\x6f\x6c\40\146\x6f\162\x6d\x2d\x63\x6f\x6e\164\x72\157\154\55\x6c\147"], "\154\x61\x62\145\x6c" => "\104\x61\164\141\x62\x61\x73\145\40\125\163\145\162\x20\x50\x61\163\x73\x77\x6f\162\144", "\143\157\x6e\163\x74\162\x61\151\156\x74\163" => [new Assert\NotBlank(), new Assert\Length(["\x6d\151\x6e" => 8]), new Assert\Length(["\155\141\170" => 40])]]); goto f224d; A2fe5: $builder->addEventListener(FormEvents::PRE_SUBMIT, function (FormEvent $event) { goto fb43e; Aa0ae: $data["\165\x73\145\162\x4e\x61\x6d\145"] = true === isset($data["\x75\x73\145\x72\x4e\x61\x6d\145"]) ? strtolower($data["\165\163\145\162\x4e\x61\x6d\145"]) : ''; goto Cd0ec; fb43e: $data = $event->getData(); goto Aa0ae; Cd0ec: $event->setData($data); goto Cd967; Cd967: }); goto f19b1; Ffb88: $builder->add("\160\x65\162\x6d\x69\x73\x73\151\157\156\163", ChoiceType::class, ["\x72\x65\161\x75\x69\x72\145\144" => true, "\141\164\164\162" => ["\x63\x6c\x61\x73\163" => "\x66\157\162\155\55\x73\145\x6c\145\143\x74\40\146\x6f\162\155\x2d\163\x65\154\x65\143\x74\55\154\147"], "\x6c\x61\x62\145\x6c" => "\x50\x65\x72\x6d\151\163\163\151\157\156\x73", "\x63\x68\x6f\151\x63\x65\163" => $permissionChoices]); goto d9fc8; f224d: $permissionChoices = ["\x52\x65\141\144\40\141\156\x64\40\x57\162\151\164\x65" => DatabaseUserEntity::PERMISSIONS_READ_WRITE, "\122\x65\141\144\40\x4f\156\154\x79" => DatabaseUserEntity::PERMISSIONS_READ_ONLY]; goto Ffb88; f19b1: } public function getName() : string { return "\x63\x6c\160\137\163\151\164\x65\137\x64\x61\x74\141\x62\x61\163\145\x5f\x75\x73\145\162"; } }
