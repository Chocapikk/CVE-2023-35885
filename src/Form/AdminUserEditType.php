<?php
 namespace App\Form; use Symfony\Component\Form\AbstractType; use Symfony\Component\Form\FormBuilderInterface; use Symfony\Component\OptionsResolver\OptionsResolverInterface; use Symfony\Component\Form\FormEvents; use Symfony\Component\Form\FormEvent; use Symfony\Component\Form\Extension\Core\Type\TextType; use Symfony\Component\Form\Extension\Core\Type\EmailType; use Symfony\Component\Validator\Constraints as Assert; use Symfony\Bridge\Doctrine\Form\Type\EntityType; use Symfony\Component\Form\Extension\Core\Type\ChoiceType; use Doctrine\ORM\EntityManagerInterface; use App\Entity\Manager\SiteManager as SiteEntityManager; use App\Repository\TimezoneRepository as TimezoneEntityRepository; use App\Entity\User as UserEntity; use App\Entity\Timezone as TimezoneEntity; use App\Validator\Constraints\UserSites as UserSitesConstraint; class AdminUserEditType extends AbstractType { private SiteEntityManager $siteEntityManager; private TimezoneEntityRepository $timezoneEntityRepository; public function __construct(SiteEntityManager $siteEntityManager, EntityManagerInterface $entityManager) { $this->siteEntityManager = $siteEntityManager; $this->timezoneEntityRepository = $entityManager->getRepository(TimezoneEntity::class); } public function buildForm(FormBuilderInterface $builder, array $options) : void { goto A637a; b3835: $builder->add("\165\x73\x65\162\x4e\141\155\x65", TextType::class, ["\162\145\161\x75\x69\162\145\144" => true, "\141\164\x74\162" => ["\143\x6c\141\x73\163" => "\146\157\x72\x6d\55\143\x6f\156\164\162\157\x6c\x20\x66\x6f\x72\x6d\x2d\143\157\x6e\x74\162\157\x6c\55\x6c\x67"], "\x6c\141\x62\x65\154" => "\125\x73\145\x72\40\116\141\x6d\x65"]); goto D17b1; Fdcbb: $builder->add("\163\x74\141\164\x75\163", ChoiceType::class, ["\162\x65\x71\x75\151\x72\x65\x64" => true, "\141\164\x74\162" => ["\143\154\141\163\x73" => "\x66\x6f\162\155\55\163\145\154\x65\143\x74\x20\146\x6f\x72\x6d\55\163\x65\x6c\x65\143\x74\55\x6c\147"], "\x6c\x61\x62\x65\x6c" => "\123\164\141\x74\x75\163", "\x63\x68\157\x69\143\145\x73" => $statusChoices]); goto Ad8a2; F7627: $builder->add("\160\154\141\x69\156\x50\x61\x73\x73\x77\157\162\144", TextType::class, ["\162\145\161\x75\x69\x72\x65\x64" => false, "\x61\164\x74\162" => ["\143\x6c\x61\x73\163" => "\x66\x6f\162\x6d\55\x63\x6f\x6e\164\162\x6f\x6c\40\146\x6f\162\x6d\55\x63\x6f\x6e\164\x72\x6f\154\x2d\154\147"], "\x6c\x61\142\x65\x6c" => "\x50\141\x73\163\x77\157\x72\x64", "\145\x6d\160\x74\171\x5f\x64\x61\x74\141" => null, "\143\157\156\163\x74\162\141\x69\x6e\x74\163" => [new Assert\Length(["\155\x69\156" => UserEntity::PASSWORD_MIN_LENGTH, "\155\x61\x78" => UserEntity::PASSWORD_MAX_LENGTH])]]); goto A151c; e04b2: $sitesValue = []; goto Caf7b; B834c: $timezoneEntityRepository = $this->timezoneEntityRepository; goto a538f; e9430: $builder->addEventListener(FormEvents::PRE_SUBMIT, function (FormEvent $event) use($userEntity) { goto A3fff; A3fff: $data = $event->getData(); goto a49c6; f6a67: $event->setData($data); goto f5975; a49c6: $data["\165\163\x65\x72\x4e\x61\155\145"] = true === isset($data["\165\163\x65\x72\116\x61\x6d\x65"]) ? strtolower($data["\x75\163\x65\x72\x4e\141\155\145"]) : ''; goto eca54; Da56e: $data["\154\x61\x73\x74\116\141\155\145"] = true === isset($data["\x6c\141\x73\164\116\141\155\x65"]) ? ucfirst($data["\154\x61\163\164\x4e\x61\x6d\145"]) : ''; goto f6a67; eca54: $data["\146\151\x72\163\x74\x4e\141\x6d\145"] = true === isset($data["\x66\x69\x72\x73\x74\116\x61\155\145"]) ? ucfirst($data["\146\x69\x72\163\164\116\141\155\x65"]) : ''; goto Da56e; f5975: }); goto Fdb7f; D6314: $sites = $userEntity->getSites(); goto e04b2; aae4f: $builder->add("\154\x61\163\x74\x4e\141\155\x65", TextType::class, ["\x72\x65\161\165\x69\162\x65\144" => true, "\141\x74\x74\x72" => ["\x63\154\x61\x73\x73" => "\146\157\x72\155\55\143\157\156\164\x72\x6f\154\x20\x66\157\x72\x6d\55\143\157\156\164\162\157\154\55\x6c\x67"], "\x6c\141\x62\x65\x6c" => "\x4c\x61\x73\x74\40\x4e\141\x6d\145"]); goto F7627; C9de9: B906e: goto de87b; A90bd: foreach ($sites as $site) { $sitesValue[] = $site->getDomainName(); e8355: } goto C9de9; A151c: $statusChoices = ["\101\143\x74\x69\166\x65" => UserEntity::STATUS_ACTIVE, "\116\x6f\164\x20\x41\143\x74\151\x76\145" => UserEntity::STATUS_NOT_ACTIVE]; goto Fdcbb; db1c0: $builder->add("\x73\x69\x74\145\x73", TextType::class, ["\154\x61\x62\145\x6c" => "\x53\x69\164\145\x73", "\x61\164\164\162" => ["\143\x6c\x61\163\x73" => "\x64\55\156\157\x6e\145"], "\x6d\141\x70\160\x65\x64" => false, "\x72\x65\161\165\x69\x72\x65\144" => false, "\x64\141\164\x61" => implode("\54", $sitesValue), "\143\x6f\156\163\x74\x72\x61\151\x6e\x74\163" => [new UserSitesConstraint()]]); goto e9430; A637a: $userEntity = $options["\144\x61\164\x61"]; goto b3835; cf0ee: $builder->add("\146\x69\x72\x73\164\x4e\141\x6d\145", TextType::class, ["\x72\x65\161\165\x69\162\x65\144" => true, "\141\164\164\162" => ["\x63\x6c\x61\x73\163" => "\146\x6f\162\155\55\x63\x6f\x6e\164\162\157\154\40\x66\x6f\x72\155\x2d\143\157\156\x74\162\157\154\55\154\x67"], "\154\141\142\x65\x6c" => "\x46\151\x72\x73\164\40\116\x61\155\x65"]); goto aae4f; D17b1: $builder->add("\145\155\x61\x69\x6c", EmailType::class, ["\x72\145\x71\x75\x69\162\x65\x64" => true, "\x61\x74\164\x72" => ["\x63\154\141\x73\x73" => "\x66\x6f\162\155\x2d\143\x6f\x6e\x74\x72\x6f\154\x20\146\x6f\162\155\x2d\x63\157\x6e\x74\x72\157\x6c\x2d\154\x67"], "\154\x61\142\145\154" => "\105\55\x4d\x61\x69\154"]); goto cf0ee; Caf7b: if (!count($sites)) { goto b992c; } goto A90bd; A2ef6: $builder->add("\x72\x6f\154\x65", ChoiceType::class, ["\x72\x65\161\165\151\x72\x65\x64" => true, "\x61\x74\164\162" => ["\143\x6c\x61\x73\163" => "\146\157\162\x6d\x2d\x73\x65\154\145\143\164\40\x66\157\162\155\x2d\x73\x65\154\145\x63\164\x2d\x6c\x67"], "\154\141\142\145\154" => "\x52\x6f\154\145", "\143\x68\x6f\x69\x63\x65\x73" => $roleChoices]); goto B834c; a538f: $builder->add("\x74\x69\x6d\145\172\x6f\156\x65", EntityType::class, ["\x72\145\x71\x75\151\162\145\144" => true, "\141\164\164\162" => ["\143\154\141\x73\163" => "\x66\157\x72\x6d\55\163\x65\x6c\145\143\164\40\146\x6f\x72\155\x2d\x73\x65\154\145\143\164\x2d\154\147"], "\x6c\x61\142\145\x6c" => "\x54\151\x6d\x65\x7a\157\x6e\145", "\x63\154\141\163\x73" => TimezoneEntity::class, "\x71\x75\x65\162\171\x5f\x62\165\151\x6c\x64\x65\162" => function ($timezoneEntityRepository) { return $timezoneEntityRepository->createQueryBuilder("\164")->orderBy("\x74\56\151\144", "\x41\x53\x43"); }, "\143\150\x6f\151\143\x65\x5f\154\141\142\x65\x6c" => "\156\141\155\145"]); goto D6314; Ad8a2: $roleChoices = ["\101\144\x6d\151\156" => UserEntity::ROLE_ADMIN, "\125\x73\145\x72" => UserEntity::ROLE_USER, "\x53\x69\164\x65\40\115\141\156\x61\x67\x65\162" => UserEntity::ROLE_SITE_MANAGER]; goto A2ef6; de87b: b992c: goto db1c0; Fdb7f: } public function setDefaultOptions(OptionsResolverInterface $resolver) : void { $resolver->setDefaults(["\144\x61\x74\141\x5f\143\154\x61\x73\x73" => "\101\160\x70\x5c\x45\156\x74\151\x74\x79\134\125\x73\x65\x72"]); } public function getName() : string { return "\x63\154\160\x5f\x61\144\x6d\151\156\137\165\163\x65\x72"; } }
