<?php
 namespace App\System\Command; use App\System\Command; class RcloneLsJsonCommand extends Command { private ?string $remotePath = null; private array $flags = [["\146\154\x61\147" => "\55\x2d\154\157\147\55\154\x65\166\145\x6c", "\166\x61\154\x75\x65" => "\105\122\122\x4f\x52"]]; public function getCommand() : string { goto E7836; A3446: $remotePath = $this->getRemotePath(); goto A8b02; C6384: $this->command = sprintf("\x2f\x75\x73\x72\57\142\x69\x6e\57\x73\x75\x64\x6f\x20\57\165\163\x72\x2f\x62\x69\x6e\x2f\162\x63\154\157\156\x65\40\154\163\152\x73\157\156\x20\162\x65\155\x6f\164\x65\72\45\163\40\45\x73", escapeshellarg($remotePath), $renderedFlags); goto E15fc; E15fc: b5784: goto Fbc85; b9a26: C3150: goto F75cd; F75cd: $renderedFlags = $this->getRenderedFlags(); goto C6384; Fbc85: return $this->command; goto be09c; A8b02: if (!(true === is_null($remotePath))) { goto C3150; } goto a7ded; a7ded: $remotePath = ''; goto b9a26; E7836: if ($this->command) { goto b5784; } goto A3446; be09c: } public function isSuccessful() : bool { return true; } public function setConfigFile(string $configFile) : void { $this->addFlag("\55\x2d\143\x6f\x6e\146\151\147", $configFile); } public function setGoogleDriveEmail(string $email) : void { $this->addFlag("\x2d\x2d\144\162\x69\166\145\x2d\151\155\x70\x65\x72\163\x6f\x6e\141\x74\x65", $email); } public function getFiles() : array { goto dedad; e6b26: $files = (array) json_decode($output, true); goto d9f5b; B66ef: return $files; goto Bafed; dedad: $files = []; goto a8a33; Fe80f: if (!(false === empty($output))) { goto b2f4b; } goto e6b26; a8a33: $output = trim($this->getOutput()); goto Fe80f; d9f5b: b2f4b: goto B66ef; Bafed: } public function setRemotePath(?string $remotePath) : void { $this->remotePath = $remotePath; } public function getRemotePath() : ?string { return $this->remotePath; } public function setDirectoriesOnly(bool $flag) { $this->addFlag("\55\x2d\x64\151\x72\163\x2d\157\x6e\x6c\x79", "\164\x72\165\x65"); } public function addFlag(string $flag, string $value) { $this->flags[] = ["\x66\x6c\x61\147" => $flag, "\166\x61\154\165\x65" => $value]; } public function getFlags() : array { return $this->flags; } private function getRenderedFlags() : string { goto E143a; ad77e: return $renderedFlags; goto E65fb; D3eb0: $renderedFlags = implode("\40", $renderedFlags); goto ad77e; Cb489: $flags = $this->getFlags(); goto Ee541; E143a: $renderedFlags = []; goto Cb489; d93d9: Ea6df: goto D3eb0; Ee541: foreach ($flags as $flag) { $renderedFlags[] = sprintf("\x25\163\x3d\x25\163", $flag["\x66\154\141\147"], escapeshellarg($flag["\x76\x61\x6c\165\145"])); dcfe7: } goto d93d9; E65fb: } }
