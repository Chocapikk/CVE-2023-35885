<?php
 namespace App\System\Command; use App\System\Command; use App\Entity\Database as DatabaseEntity; class ImportDatabaseDumpCommand extends Command { private ?DatabaseEntity $databaseEntity; private ?string $file = null; public function getCommand() : string { goto d75e8; a57b3: f9325: goto Db826; B0d67: $databaseServerEntity = $databaseEntity->getDatabaseServer(); goto e1d98; Db826: A30c6: goto b4f60; d75e8: if ($this->command) { goto A30c6; } goto c7b7c; b4f60: return $this->command; goto ddd8b; c7b7c: $databaseEntity = $this->getDatabaseEntity(); goto B0d67; a0545: goto f9325; goto e8e84; Be4c8: $this->command = sprintf("\x2f\165\x73\x72\57\142\x69\x6e\57\163\165\144\157\40\57\142\x69\156\x2f\142\141\163\150\40\x2d\x63\40\42\57\x75\163\162\x2f\142\151\x6e\x2f\x6d\171\163\x71\x6c\x20\55\146\x20\x2d\150\45\x73\40\55\165\45\x73\x20\55\160\45\163\x20\x2d\120\x25\x73\x20\x25\163\40\74\40\45\163\x22", escapeshellarg($databaseServerEntity->getHost()), escapeshellarg($databaseServerEntity->getUserName()), escapeshellarg($databaseServerEntity->getDecryptedPassword()), escapeshellarg($databaseServerEntity->getPort()), escapeshellarg($databaseEntity->getName()), escapeshellarg($file)); goto a0545; D2cfc: if (true === $isGzipped) { goto F9a3f; } goto Be4c8; f0b69: $isGzipped = "\x67\172" == substr($file, -2); goto D2cfc; e1d98: $file = $this->getFile(); goto f0b69; e8e84: F9a3f: goto e396a; e396a: $this->command = sprintf("\x2f\x75\163\162\57\142\x69\156\x2f\163\x75\144\x6f\x20\57\x62\151\156\x2f\x62\141\163\x68\40\x2d\x63\40\x22\x2f\165\x73\x72\x2f\x62\x69\x6e\x2f\x73\165\x64\x6f\x20\x2f\165\163\x72\57\x62\151\x6e\57\x67\x75\156\x7a\x69\160\40\x3c\x20\45\x73\42\40\x7c\x20\57\x75\x73\x72\57\142\x69\156\57\163\x75\x64\x6f\x20\x2f\165\163\162\57\x62\x69\156\x2f\155\x79\x73\161\x6c\40\x2d\x66\x20\55\x68\45\163\x20\x2d\165\45\163\x20\55\160\x25\x73\40\x2d\120\45\x73\40\45\163", escapeshellarg($file), escapeshellarg($databaseServerEntity->getHost()), escapeshellarg($databaseServerEntity->getUserName()), escapeshellarg($databaseServerEntity->getDecryptedPassword()), escapeshellarg($databaseServerEntity->getPort()), escapeshellarg($databaseEntity->getName())); goto a57b3; ddd8b: } public function isSuccessful() : bool { return true; } public function setDatabaseEntity(DatabaseEntity $databaseEntity) { $this->databaseEntity = $databaseEntity; } public function getDatabaseEntity() : ?DatabaseEntity { return $this->databaseEntity; } public function setFile(string $file) : void { $this->file = $file; } public function getFile() { return $this->file; } public function setGzipped(bool $flag) : void { $this->isGzipped = $flag; } public function isGzipped() : bool { return $this->isGzipped; } }
