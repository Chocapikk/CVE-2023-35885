<?php
 namespace App\EventListener; use Symfony\Component\HttpKernel\Event\ExceptionEvent; use Symfony\Component\HttpKernel\Exception\NotFoundHttpException; use Symfony\Component\HttpKernel\Exception\AccessDeniedHttpException; use Symfony\Component\HttpFoundation\RedirectResponse; use Symfony\Bundle\FrameworkBundle\Routing\Router; use Symfony\Contracts\Translation\TranslatorInterface; class ExceptionListener { private Router $router; private TranslatorInterface $translator; public function __construct(Router $router, TranslatorInterface $translator) { $this->router = $router; $this->translator = $translator; } public function onKernelException(ExceptionEvent $event) { goto A7db1; B7661: if (!$exception instanceof AccessDeniedHttpException) { goto eb62b; } goto Bedff; Ee112: eb62b: goto C881f; Bb883: if (!$exception instanceof NotFoundHttpException) { goto d5ba2; } goto b1e9a; ea666: $referer = $request->headers->get("\162\x65\146\x65\162\145\x72"); goto Cc046; E647b: $session = $request->getSession(); goto Ab22b; A7db1: $exception = $event->getThrowable(); goto Bb883; D52d4: c2229: goto fff72; D9050: $response = new RedirectResponse($url, RedirectResponse::HTTP_FOUND); goto ce72d; b1e9a: $url = $this->router->generate("\x63\154\x70\x5f\x6c\157\x67\x69\x6e"); goto D9050; Ec6a6: $response = new RedirectResponse($referer); goto D52d4; Bedff: $request = $event->getRequest(); goto E647b; ce72d: $event->setResponse($response); goto Bf3a3; Cc046: if (!(false === empty($referer))) { goto c2229; } goto Ec6a6; fff72: $event->setResponse($response); goto Ee112; Bf3a3: d5ba2: goto B7661; Ab22b: $session->getFlashBag()->set("\x64\x61\156\x67\145\162", $this->translator->trans("\x41\143\143\x65\163\163\40\x44\x65\x6e\151\145\x64\x2e")); goto ea666; C881f: } }
