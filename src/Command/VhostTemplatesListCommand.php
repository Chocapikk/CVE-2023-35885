<?php
 namespace App\Command; use Symfony\Component\Console\Input\InputInterface; use Symfony\Component\Console\Output\OutputInterface; use Symfony\Component\Console\Helper\Table; use App\Command\Command as BaseCommand; use App\Entity\Manager\VhostTemplateManager as VhostTemplateEntityManager; use App\Entity\VhostTemplate as VhostTemplateEntity; class VhostTemplatesListCommand extends BaseCommand { private const IGNORED_TEMPLATES = ["\x6e\157\144\x65\x6a\163", "\x70\171\164\x68\x6f\x6e", "\162\x65\x76\x65\162\x73\x65\160\162\157\170\x79", "\163\164\x61\x74\151\x63"]; private VhostTemplateEntityManager $vhostTemplateEntityManager; public function __construct(VhostTemplateEntityManager $vhostTemplateEntityManager) { $this->vhostTemplateEntityManager = $vhostTemplateEntityManager; parent::__construct(); } protected function configure() : void { $this->setName("\166\150\157\163\x74\x2d\164\x65\x6d\x70\x6c\141\x74\145\x73\x3a\154\x69\x73\164"); $this->setDescription("\143\154\x70\x63\x74\154\x20\166\150\157\x73\x74\x2d\164\x65\x6d\160\154\x61\x74\145\163\x3a\154\151\x73\164"); } protected function execute(InputInterface $input, OutputInterface $output) : int { try { goto f927c; f927c: $vhostTemplates = $this->vhostTemplateEntityManager->findAll([], ["\156\x61\155\145" => "\x41\123\x43"]); goto D9135; ceab6: $tableRows = []; goto fe8d6; A000b: daf30: goto B13ba; Cf880: return SiteCommand::SUCCESS; goto C5ce1; fe8d6: $table = new Table($output); goto cf851; b54db: $table->render(); goto bbf4f; f8d38: foreach ($vhostTemplates as $vhostTemplate) { goto c1c41; F41c5: f3a9e: goto E9dcf; a43d1: $rootDirectory = $vhostTemplate->getRootDirectory(); goto d07db; c1c41: $name = $vhostTemplate->getName(); goto Ec580; Ec580: if (!(false === empty($name) && false === in_array(strtolower($name), self::IGNORED_TEMPLATES))) { goto f3a9e; } goto b435d; E9dcf: d38d1: goto b6a8d; d07db: $tableRows[] = ["\x4e\141\x6d\x65" => $name, "\122\x6f\x6f\x74\x20\104\151\x72\x65\143\x74\x6f\162\171" => $rootDirectory, "\x54\x79\160\145" => $type]; goto F41c5; b435d: $type = VhostTemplateEntity::TYPE_SYSTEM == $vhostTemplate->getType() ? "\x53\171\x73\164\145\x6d" : "\103\165\x73\x74\x6f\155"; goto a43d1; b6a8d: } goto A000b; cf851: $table->setHeaders(["\x4e\141\155\145", "\x52\157\x6f\164\40\104\151\x72\145\143\x74\157\162\171", "\124\171\x70\145"]); goto f8d38; B13ba: $table->setRows($tableRows); goto b54db; bbf4f: a0f9e: goto Cf880; D9135: if (!count($vhostTemplates)) { goto a0f9e; } goto ceab6; C5ce1: } catch (\Exception $e) { goto d652b; d652b: $errorMessage = $e->getMessage(); goto E9e82; Ef418: return SiteCommand::FAILURE; goto c6e79; E9e82: $output->writeln(sprintf("\x3c\x65\162\x72\x6f\x72\76\45\x73\74\57\145\162\x72\157\162\x3e", $errorMessage)); goto Ef418; c6e79: } } }
